package br.com.bean;

import br.com.Util.UtilProgresso;
import br.com.Bean.Aluno;
import br.com.Bean.Avaliacao;
import Camada.Util.JMoneyField;
import Camada.Util.JonlyNumber;
import Camada.Util.ToDate;
import Camada.Util.ToDecimal;
import Camada.Util.ToMoney;
import br.com.Bean.Mensalidade;
import br.com.Bean.Pessoa;
import br.com.Persistencia.DAO;
import br.com.Util.Acao;
import br.com.Util.Converte;
import br.com.Util.JTableRenderer;
import br.com.Util.Mensagen;
import br.com.Util.Parametro;
import br.com.Util.Status;
import br.com.Util.Tipo;
import br.com.Util.Validate;
import br.com.calendario.CalendarioComboBox;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Calendar;
import java.util.LinkedHashMap;
import java.util.List;
import java.util.Map;
import javax.swing.DefaultListModel;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFormattedTextField;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumnModel;

public class WinAluno extends javax.swing.JPanel {

    private DAO processamento;
    private Validate validate;
    private List<Aluno> listAuxiliar;
    private WinTabelaConsulta consulta;
    private WinJanelaMensalidade winJanelaMensalidade;
    private static Integer index;
    private boolean estado = false;
    private boolean changeTab = false;
    private DefaultListModel lm;
    private Map<Aluno, List<Mensalidade>> mapeamentoAluno;

    public WinAluno() {
        mapeamentoAluno = new LinkedHashMap<Aluno, List<Mensalidade>>();
        validate = new Validate();
        lm = new DefaultListModel();
        processamento = UtilProgresso.processamento;
        initComponents();
        initConfig();


        tf_data_inscricao.setText(Parametro.dataCorrente);
    }

    private void initConfig() {
        TableColumnModel columnModel = tabletest.getColumnModel();
        tabletest.setRowHeight(tabletest.getRowHeight() + 15);

        JTableRenderer renderer = new JTableRenderer();

        columnModel.getColumn(3).setCellRenderer(renderer);
        columnModel.getColumn(3).setMaxWidth(80);
        columnModel.getColumn(2).setCellRenderer(new JTableRenderer());
        columnModel.getColumn(1).setCellRenderer(new JTableRenderer());
        columnModel.getColumn(0).setCellRenderer(new JTableRenderer());

    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        painelAluno = new javax.swing.JTabbedPane();
        panelCrud = new javax.swing.JPanel();
        panel_Command = new javax.swing.JPanel();
        jLabel30 = new javax.swing.JLabel();
        bt_cadastrar = new javax.swing.JButton();
        bt_atualizar = new javax.swing.JButton();
        bt_excluir = new javax.swing.JButton();
        bt_novo = new javax.swing.JButton();
        jLabel31 = new javax.swing.JLabel();
        jLabel32 = new javax.swing.JLabel();
        jLabel33 = new javax.swing.JLabel();
        bt_consulta = new javax.swing.JButton();
        jLabel34 = new javax.swing.JLabel();
        tf_endereco = new javax.swing.JTextField();
        tf_nome = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        tf_fone = new javax.swing.JFormattedTextField();
        jLabel22 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        tf_celular = new javax.swing.JFormattedTextField();
        jLabel27 = new javax.swing.JLabel();
        tf_fone_emergencial = new javax.swing.JFormattedTextField();
        tf_nome_emergencia = new javax.swing.JTextField();
        jLabel26 = new javax.swing.JLabel();
        tf_rg = new javax.swing.JFormattedTextField();
        jLabel23 = new javax.swing.JLabel();
        tf_cpf = new javax.swing.JFormattedTextField();
        jLabel24 = new javax.swing.JLabel();
        tf_data = new javax.swing.JFormattedTextField();
        jLabel29 = new javax.swing.JLabel();
        tf_idade = new JonlyNumber();
        tf_email = new javax.swing.JTextField();
        jLabel28 = new javax.swing.JLabel();
        jLabel35 = new javax.swing.JLabel();
        tf_data_inscricao = new javax.swing.JFormattedTextField();
        jLabel36 = new javax.swing.JLabel();
        cb_dia_pagamento = new javax.swing.JComboBox();
        jLabel39 = new javax.swing.JLabel();
        jLabel38 = new javax.swing.JLabel();
        tf_mensalidade = new JMoneyField();
        jLabel37 = new javax.swing.JLabel();
        cb_modalidade = new javax.swing.JComboBox();
        jLabel40 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        list_pacote_mensalidade = new javax.swing.JList();
        bt_add_mensalidade = new javax.swing.JButton();
        jLabel43 = new javax.swing.JLabel();
        bt_remove_mensalidade = new javax.swing.JButton();
        panelMensalidade = new javax.swing.JPanel();
        jScrollPane4 = new javax.swing.JScrollPane();
        tabletest = new javax.swing.JTable();
        jPanel6 = new javax.swing.JPanel();
        jLabel17 = new javax.swing.JLabel();
        bt_mensalidade_ok1 = new javax.swing.JButton();
        bt_excluir_mensalidade1 = new javax.swing.JButton();
        jLabel18 = new javax.swing.JLabel();
        Atualizar1 = new javax.swing.JButton();
        jLabel19 = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jLabel46 = new javax.swing.JLabel();
        cb_nome_Mensalidade = new javax.swing.JComboBox();
        panelAvaliacao = new javax.swing.JPanel();
        jPanel5 = new javax.swing.JPanel();
        jLabel14 = new javax.swing.JLabel();
        bt_avaliacao_ok = new javax.swing.JButton();
        jLabel4 = new javax.swing.JLabel();
        cb_nome_avaliacao = new javax.swing.JComboBox();
        jLabel5 = new javax.swing.JLabel();
        tf_data_avaliacao = new javax.swing.JFormattedTextField();
        jLabel6 = new javax.swing.JLabel();
        tf_valor_avaliacao = new JMoneyField();
        jPanel1 = new javax.swing.JPanel();
        jPanel7 = new javax.swing.JPanel();
        jLabel15 = new javax.swing.JLabel();
        bt_diaria = new javax.swing.JButton();
        tf_valor_diaria = new JMoneyField();
        jLabel9 = new javax.swing.JLabel();
        jLabel41 = new javax.swing.JLabel();

        setPreferredSize(new java.awt.Dimension(611, 487));

        painelAluno.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                painelAlunoStateChanged(evt);
            }
        });

        panel_Command.setBackground(new java.awt.Color(255, 255, 255));

        jLabel30.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/Aluno add.png"))); // NOI18N

        bt_cadastrar.setText("Cadastrar");
        bt_cadastrar.setEnabled(false);
        bt_cadastrar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                action(evt);
            }
        });

        bt_atualizar.setText("Atualizar");
        bt_atualizar.setEnabled(false);
        bt_atualizar.setFocusable(false);
        bt_atualizar.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        bt_atualizar.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        bt_atualizar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                action(evt);
            }
        });

        bt_excluir.setText("Excluir");
        bt_excluir.setEnabled(false);
        bt_excluir.setFocusable(false);
        bt_excluir.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        bt_excluir.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        bt_excluir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                action(evt);
            }
        });

        bt_novo.setText("Novo");
        bt_novo.setFocusable(false);
        bt_novo.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        bt_novo.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        bt_novo.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bt_novoActionPerformed(evt);
            }
        });

        jLabel31.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/Aluno new.png"))); // NOI18N

        jLabel32.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/Aluno Delete.png"))); // NOI18N

        jLabel33.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/Aluno Update.png"))); // NOI18N

        bt_consulta.setText("Consulta");
        bt_consulta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bt_consultaActionPerformed(evt);
            }
        });

        jLabel34.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/Aluno Procura.png"))); // NOI18N

        javax.swing.GroupLayout panel_CommandLayout = new javax.swing.GroupLayout(panel_Command);
        panel_Command.setLayout(panel_CommandLayout);
        panel_CommandLayout.setHorizontalGroup(
            panel_CommandLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panel_CommandLayout.createSequentialGroup()
                .addGap(8, 8, 8)
                .addGroup(panel_CommandLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(bt_novo, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel31, javax.swing.GroupLayout.Alignment.TRAILING))
                .addGroup(panel_CommandLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panel_CommandLayout.createSequentialGroup()
                        .addGap(24, 24, 24)
                        .addComponent(bt_cadastrar))
                    .addGroup(panel_CommandLayout.createSequentialGroup()
                        .addGap(43, 43, 43)
                        .addComponent(jLabel30)))
                .addGap(30, 30, 30)
                .addGroup(panel_CommandLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panel_CommandLayout.createSequentialGroup()
                        .addComponent(bt_excluir)
                        .addGap(35, 35, 35)
                        .addComponent(bt_atualizar)
                        .addGap(30, 30, 30)
                        .addComponent(bt_consulta))
                    .addGroup(panel_CommandLayout.createSequentialGroup()
                        .addGap(9, 9, 9)
                        .addComponent(jLabel32)
                        .addGap(57, 57, 57)
                        .addComponent(jLabel33)
                        .addGap(60, 60, 60)
                        .addComponent(jLabel34)))
                .addContainerGap(128, Short.MAX_VALUE))
        );
        panel_CommandLayout.setVerticalGroup(
            panel_CommandLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panel_CommandLayout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(panel_CommandLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel30)
                    .addComponent(jLabel31)
                    .addComponent(jLabel33)
                    .addComponent(jLabel32)
                    .addComponent(jLabel34))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 11, Short.MAX_VALUE)
                .addGroup(panel_CommandLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(bt_novo)
                    .addComponent(bt_cadastrar)
                    .addComponent(bt_excluir)
                    .addComponent(bt_atualizar)
                    .addComponent(bt_consulta))
                .addContainerGap())
        );

        jLabel20.setText("Nome*.:");

        jLabel21.setText("Endereço.:");

        try {
            tf_fone.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("####-####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        tf_fone.setFocusLostBehavior(JFormattedTextField.COMMIT);

        jLabel22.setText("Telefone.:");

        jLabel25.setText("Celular.:");

        try {
            tf_celular.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("####-####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        tf_celular.setFocusLostBehavior(JFormattedTextField.COMMIT);

        jLabel27.setText("Contato Emergencia.:");

        try {
            tf_fone_emergencial.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("####-####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        tf_fone_emergencial.setToolTipText("Telefone Para Emergencia");
        tf_fone_emergencial.setFocusLostBehavior(JFormattedTextField.COMMIT);

        tf_nome_emergencia.setToolTipText("Nome Para Emergencia");

        jLabel26.setText("RG.:");

        tf_rg.setFocusLostBehavior(JFormattedTextField.COMMIT);

        jLabel23.setText("CPF.:");

        try {
            tf_cpf.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("###.###.###-##")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        tf_cpf.setFocusLostBehavior(JFormattedTextField.COMMIT);

        jLabel24.setText("Data Nascimento*.:");

        try {
            tf_data.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        tf_data.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                tf_dataFocusLost(evt);
            }
        });

        jLabel29.setText("Idade.:");

        jLabel28.setText("Email.:");

        jLabel35.setText("Data Inscrição.:");

        try {
            tf_data_inscricao.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        tf_data.setFocusLostBehavior(JFormattedTextField.COMMIT);

        jLabel36.setText("Dia de Pagamento.:");

        cb_dia_pagamento.setBackground(new java.awt.Color(204, 204, 204));
        cb_dia_pagamento.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "1", "5", "10", "15", "20", "25" }));

        jLabel39.setText("Pgto Mensalidade.:");

        jLabel38.setText("Valor da Mensalidade* (R$).:");

        jLabel37.setText("Modalidade.:");

        cb_modalidade.setBackground(new java.awt.Color(204, 204, 204));
        cb_modalidade.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Musculação", "Ginástica", "HidroGinástica", "Musc + Hidro", "Musc + Gin", "Musc + Hidro + Gin", "Musc + Jump", "Musc. 3x", "Musc + Gin 3x " }));

        jLabel40.setText("Nome Emergencia.:");

        jLabel7.setFont(new java.awt.Font("Tahoma", 1, 11));
        jLabel7.setText("* = campos Obrigatórios ");

        list_pacote_mensalidade.setBorder(new javax.swing.border.SoftBevelBorder(javax.swing.border.BevelBorder.RAISED));
        list_pacote_mensalidade.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        jScrollPane2.setViewportView(list_pacote_mensalidade);

        bt_add_mensalidade.setText("Add");
        bt_add_mensalidade.setEnabled(false);
        bt_add_mensalidade.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                action(evt);
            }
        });

        jLabel43.setText("Mensalidade(s).:");

        bt_remove_mensalidade.setText("Remover");
        bt_remove_mensalidade.setEnabled(false);
        bt_remove_mensalidade.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bt_remove_mensalidadeActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout panelCrudLayout = new javax.swing.GroupLayout(panelCrud);
        panelCrud.setLayout(panelCrudLayout);
        panelCrudLayout.setHorizontalGroup(
            panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCrudLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, panelCrudLayout.createSequentialGroup()
                        .addComponent(jLabel22)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_fone, javax.swing.GroupLayout.PREFERRED_SIZE, 89, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(49, 49, 49)
                        .addComponent(jLabel25)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_celular, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, panelCrudLayout.createSequentialGroup()
                        .addComponent(jLabel27)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_fone_emergencial, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel40)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_nome_emergencia, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, panelCrudLayout.createSequentialGroup()
                        .addComponent(jLabel21)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_endereco, javax.swing.GroupLayout.PREFERRED_SIZE, 415, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, panelCrudLayout.createSequentialGroup()
                        .addComponent(jLabel20)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_nome, javax.swing.GroupLayout.PREFERRED_SIZE, 313, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel7)))
                .addContainerGap(86, Short.MAX_VALUE))
            .addGroup(panelCrudLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panelCrudLayout.createSequentialGroup()
                        .addComponent(jLabel35)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_data_inscricao, javax.swing.GroupLayout.PREFERRED_SIZE, 83, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(panelCrudLayout.createSequentialGroup()
                        .addComponent(jLabel26)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_rg, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(42, 42, 42)
                        .addComponent(jLabel23)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_cpf, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(panelCrudLayout.createSequentialGroup()
                        .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panelCrudLayout.createSequentialGroup()
                                .addComponent(jLabel24)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(tf_data, javax.swing.GroupLayout.PREFERRED_SIZE, 85, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(panelCrudLayout.createSequentialGroup()
                                .addComponent(jLabel28)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(tf_email, javax.swing.GroupLayout.PREFERRED_SIZE, 178, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(jLabel39)
                            .addGroup(panelCrudLayout.createSequentialGroup()
                                .addComponent(jLabel38)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(tf_mensalidade, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 83, Short.MAX_VALUE)
                        .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panelCrudLayout.createSequentialGroup()
                                .addComponent(jLabel36)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(cb_dia_pagamento, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(panelCrudLayout.createSequentialGroup()
                                .addComponent(jLabel29)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(tf_idade, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addGroup(panelCrudLayout.createSequentialGroup()
                                    .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jLabel43)
                                        .addComponent(bt_add_mensalidade)
                                        .addComponent(bt_remove_mensalidade))
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 21, Short.MAX_VALUE)
                                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 102, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGroup(panelCrudLayout.createSequentialGroup()
                                    .addComponent(jLabel37)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(cb_modalidade, javax.swing.GroupLayout.PREFERRED_SIZE, 137, javax.swing.GroupLayout.PREFERRED_SIZE))))))
                .addContainerGap(96, Short.MAX_VALUE))
            .addComponent(panel_Command, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        panelCrudLayout.setVerticalGroup(
            panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCrudLayout.createSequentialGroup()
                .addComponent(panel_Command, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20)
                    .addComponent(tf_nome, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel7))
                .addGap(10, 10, 10)
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel21)
                    .addComponent(tf_endereco, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tf_fone, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel22)
                    .addComponent(jLabel25)
                    .addComponent(tf_celular, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel27)
                    .addComponent(tf_fone_emergencial, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel40)
                    .addComponent(tf_nome_emergencia, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel26)
                    .addComponent(tf_cpf, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel23)
                    .addComponent(tf_rg, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel29)
                    .addComponent(tf_idade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel24)
                    .addComponent(tf_data, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cb_dia_pagamento, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel36)
                    .addComponent(jLabel28)
                    .addComponent(tf_email, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tf_data_inscricao, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel35)
                    .addComponent(cb_modalidade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel37))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panelCrudLayout.createSequentialGroup()
                        .addComponent(jLabel39, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(panelCrudLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel38)
                            .addComponent(tf_mensalidade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(panelCrudLayout.createSequentialGroup()
                        .addComponent(jLabel43)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(bt_add_mensalidade)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(bt_remove_mensalidade)))
                .addGap(48, 48, 48))
        );

        painelAluno.addTab("Gerenciamento do Aluno", panelCrud);

        tabletest.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Data da Mensalidade", "Valor", "Data de Pagamento", "Status"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPane4.setViewportView(tabletest);
        tabletest.getColumnModel().getColumn(0).setMinWidth(60);
        tabletest.getColumnModel().getColumn(1).setMinWidth(40);
        tabletest.getColumnModel().getColumn(2).setMinWidth(70);
        tabletest.getColumnModel().getColumn(3).setResizable(false);

        jPanel6.setBackground(new java.awt.Color(255, 255, 255));

        jLabel17.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/Add.png"))); // NOI18N

        bt_mensalidade_ok1.setText("OK");
        bt_mensalidade_ok1.setToolTipText("Realiza a Confirmação do Pagamento definindo exatamente o dia de pagamento."); // NOI18N
        bt_mensalidade_ok1.setFocusable(false);
        bt_mensalidade_ok1.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        bt_mensalidade_ok1.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        bt_mensalidade_ok1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                actionMensalidade(evt);
            }
        });

        bt_excluir_mensalidade1.setText("Excluir");
        bt_excluir_mensalidade1.setToolTipText("Exclui uma mensalidade");
        bt_excluir_mensalidade1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                actionMensalidade(evt);
            }
        });

        jLabel18.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/cancel.png"))); // NOI18N

        Atualizar1.setText("Atualizar");
        Atualizar1.setToolTipText("Atualiza Valor e Data de pagamento da mensalidade");
        Atualizar1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                actionMensalidade(evt);
            }
        });

        jLabel19.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/refresh.png"))); // NOI18N

        jButton1.setText("Add");
        jButton1.setToolTipText("Adiciona uma mensalidade com status de Inadimplente");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                actionMensalidade(evt);
            }
        });

        jLabel46.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/ok.png"))); // NOI18N

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(bt_mensalidade_ok1, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(26, 26, 26)
                        .addComponent(jLabel46)))
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addComponent(bt_excluir_mensalidade1)
                        .addGap(18, 18, 18)
                        .addComponent(Atualizar1)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jButton1))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGap(36, 36, 36)
                        .addComponent(jLabel18)
                        .addGap(58, 58, 58)
                        .addComponent(jLabel19)
                        .addGap(39, 39, 39)
                        .addComponent(jLabel17)))
                .addContainerGap(305, Short.MAX_VALUE))
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addContainerGap(40, Short.MAX_VALUE)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jLabel18)
                        .addComponent(jLabel46)
                        .addComponent(jLabel17))
                    .addComponent(jLabel19))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(bt_mensalidade_ok1)
                    .addComponent(bt_excluir_mensalidade1)
                    .addComponent(Atualizar1)
                    .addComponent(jButton1))
                .addGap(19, 19, 19))
        );

        cb_nome_Mensalidade.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                cb_nome_MensalidadeItemStateChanged(evt);
            }
        });

        javax.swing.GroupLayout panelMensalidadeLayout = new javax.swing.GroupLayout(panelMensalidade);
        panelMensalidade.setLayout(panelMensalidadeLayout);
        panelMensalidadeLayout.setHorizontalGroup(
            panelMensalidadeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(panelMensalidadeLayout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(panelMensalidadeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 505, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cb_nome_Mensalidade, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(74, Short.MAX_VALUE))
        );
        panelMensalidadeLayout.setVerticalGroup(
            panelMensalidadeLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelMensalidadeLayout.createSequentialGroup()
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(cb_nome_Mensalidade, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(45, 45, 45)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(149, Short.MAX_VALUE))
        );

        painelAluno.addTab("Mensalidade", panelMensalidade);

        jPanel5.setBackground(new java.awt.Color(255, 255, 255));

        jLabel14.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/ok.png"))); // NOI18N

        bt_avaliacao_ok.setText("OK");
        bt_avaliacao_ok.setFocusable(false);
        bt_avaliacao_ok.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        bt_avaliacao_ok.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        bt_avaliacao_ok.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                bt_avaliacao_okactionMensalidade(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(bt_avaliacao_ok, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(14, 14, 14)
                        .addComponent(jLabel14)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 42, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(540, Short.MAX_VALUE))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                .addContainerGap(40, Short.MAX_VALUE)
                .addComponent(jLabel14)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(bt_avaliacao_ok)
                .addGap(19, 19, 19))
        );

        jLabel4.setText("Nome.:");

        jLabel5.setText("Data da Avaliacao Atual.:");

        try {
            tf_data_avaliacao.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }

        jLabel6.setText("Valor.:");

        javax.swing.GroupLayout panelAvaliacaoLayout = new javax.swing.GroupLayout(panelAvaliacao);
        panelAvaliacao.setLayout(panelAvaliacaoLayout);
        panelAvaliacaoLayout.setHorizontalGroup(
            panelAvaliacaoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(panelAvaliacaoLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel5)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tf_data_avaliacao, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(381, Short.MAX_VALUE))
            .addGroup(panelAvaliacaoLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel4)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(cb_nome_avaliacao, javax.swing.GroupLayout.PREFERRED_SIZE, 247, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addGroup(panelAvaliacaoLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel6)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tf_valor_avaliacao, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(498, Short.MAX_VALUE))
        );
        panelAvaliacaoLayout.setVerticalGroup(
            panelAvaliacaoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelAvaliacaoLayout.createSequentialGroup()
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(panelAvaliacaoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cb_nome_avaliacao, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(panelAvaliacaoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tf_data_avaliacao, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelAvaliacaoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tf_valor_avaliacao, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel6))
                .addContainerGap(276, Short.MAX_VALUE))
        );

        painelAluno.addTab("Avaliacao", panelAvaliacao);

        jPanel7.setBackground(new java.awt.Color(255, 255, 255));

        jLabel15.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Imagens/ok.png"))); // NOI18N

        bt_diaria.setText("OK");
        bt_diaria.setFocusable(false);
        bt_diaria.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        bt_diaria.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);
        bt_diaria.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ActionDiaria(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(bt_diaria, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(jPanel7Layout.createSequentialGroup()
                        .addGap(14, 14, 14)
                        .addComponent(jLabel15)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 42, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(540, Short.MAX_VALUE))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                .addContainerGap(40, Short.MAX_VALUE)
                .addComponent(jLabel15)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(bt_diaria)
                .addGap(19, 19, 19))
        );

        jLabel9.setText("Valor.:");

        jLabel41.setText("Data da Diária.:");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel9)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tf_valor_diaria, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel41))
                .addContainerGap(498, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel41, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tf_valor_diaria, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel9))
                .addContainerGap(294, Short.MAX_VALUE))
        );

        painelAluno.addTab("Diária", jPanel1);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(painelAluno, javax.swing.GroupLayout.DEFAULT_SIZE, 611, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(painelAluno, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 487, Short.MAX_VALUE)
        );
    }// </editor-fold>//GEN-END:initComponents

    private void action(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_action

        Aluno aluno = null;
        boolean resposta = false;
        try {


            if (evt.getActionCommand().equals("Cadastrar")) {

                if (Mensagen.getValidate(isValidFormulario())) {

                    aluno = getObjeto();


                    aluno.addMensalidades(getPacoteMensalidade(aluno, lm, Status.Inadimplente));
                    resposta = processamento.cadastra(aluno);
                    lm.removeAllElements();
                    Acao.DesabilitaBotao((JButton) evt.getSource());
                    Acao.DesabilitaBotao(bt_add_mensalidade, bt_remove_mensalidade);
                    limpaComponentes(this.panelCrud);
                }

            } else if (evt.getActionCommand().equals("Add")) {

                String data = Converte.dateToString(cb_calendar.getDate());
                list_pacote_mensalidade.setModel(lm);
                lm.addElement(data);
            } else {

                /*Pegar o ID do Objeto, através do index*/
                aluno = getObjeto();
                aluno.setId(index);

                if (evt.getActionCommand().equals("Excluir")) {
                    if (0 == JOptionPane.showConfirmDialog(null, "Deseja EXCLUIR aluno ?", "Alerta", JOptionPane.YES_NO_OPTION)) {
                        resposta = processamento.deletar(aluno);
                    }
                } else if (evt.getActionCommand().equals("Atualizar")) {

                    resposta = processamento.atualizar(aluno);
                }
                Acao.DesabilitaBotao(bt_atualizar, bt_excluir);
                limpaComponentes(this.panelCrud);
            }
        } catch (Exception ex) {
            Mensagen.getMensagemErro(evt.getActionCommand());
            System.out.println("Erro no action: " + ex.getMessage());
        } finally {
            /*Retorna ao estado inicial*/
            cb_calendar.setDate(Calendar.getInstance().getTime());
            showMessage(evt.getActionCommand(), resposta);
        }
}//GEN-LAST:event_action

    private void bt_novoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bt_novoActionPerformed

        Acao.habilitaBotao(bt_add_mensalidade, bt_remove_mensalidade, bt_cadastrar);
        lm.removeAllElements();
        limpaComponentes(this.panelCrud);
        Acao.DesabilitaBotao(bt_atualizar, bt_excluir);
    }//GEN-LAST:event_bt_novoActionPerformed

    private void bt_consultaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bt_consultaActionPerformed

        try {

            Acao.DesabilitaBotao(bt_cadastrar, bt_add_mensalidade);
            consulta = new WinTabelaConsulta(listar());
            consulta.setVisible(true);
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(null, "erro na consulta.: " + ex);

        } finally {
        }
}//GEN-LAST:event_bt_consultaActionPerformed

    private void tf_dataFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tf_dataFocusLost

        String anoAluno = tf_data.getText().substring(6, 10);
        String anoAtual = ToDate.getAno(Calendar.getInstance().getTime());

        if (tf_data.getSelectionEnd() == 10) {
            int idade = Integer.parseInt(anoAtual) - Integer.parseInt(anoAluno);
            tf_idade.setText(String.valueOf(idade));
        }
}//GEN-LAST:event_tf_dataFocusLost

    private void bt_remove_mensalidadeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bt_remove_mensalidadeActionPerformed
        try {
            lm.remove(list_pacote_mensalidade.getSelectedIndex());
        } catch (Exception e) {
            System.out.println("erro em listar mensalidade(Linha 1094).: " + e);
        }
}//GEN-LAST:event_bt_remove_mensalidadeActionPerformed

    private void bt_avaliacao_okactionMensalidade(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_bt_avaliacao_okactionMensalidade

        boolean resposta = false;
        if (validate.isDataFieldValid(tf_data_avaliacao) &&
                validate.isMoneyFieldValid(tf_valor_avaliacao)) {

            try {

                Avaliacao avaliacao = new Avaliacao();
                String nome = cb_nome_avaliacao.getSelectedItem().toString();

                Aluno aluno = procuraNaLista(listAuxiliar, nome);

                avaliacao.setData(Converte.StringToDate(tf_data_avaliacao.getText()));
                avaliacao.setAluno(aluno);
                avaliacao.setValor(new ToDecimal().strTofloat(tf_valor_avaliacao.getText()));
                resposta = processamento.cadastra(avaliacao);

                processamento.aberturaFinanceiro(tf_data_avaliacao.getText(), Tipo.Entrada,
                        Parametro.AVALIACAO + aluno.getNome(), avaliacao.getValor());
            } catch (Exception e) {
                System.out.println("erro em cadastro de avaliação.: " + e);
            } finally {
                if (resposta) {
                    Acao.limpaField(tf_valor_avaliacao);
                    Mensagen.getMensagem(Parametro.AVALIACAO);
                }
            }
        } else {
            Mensagen.getMensagemOperacaoInvalida();
        }
}//GEN-LAST:event_bt_avaliacao_okactionMensalidade

    private void painelAlunoStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_painelAlunoStateChanged

        if (painelAluno.getSelectedIndex() == 0) {
            changeTab = true;
        } else {

            if (changeTab) {
                listAuxiliar = listar();
                cb_nome_avaliacao.removeAllItems();
                cb_nome_Mensalidade.removeAllItems();
                changeTab = false;
            }
            if (!listAuxiliar.isEmpty()) {//se for vazio, não entra
                try {
                    /*Painel Mensalidade*/
                    if (painelAluno.getSelectedIndex() == 1) {
                        preencheComboBox(cb_nome_Mensalidade, listAuxiliar);
                        refreshListMensalidades(listAuxiliar.get(0), "");

                    }/*Painel Avaliacao*/
                    if (painelAluno.getSelectedIndex() == 2) {
                        tf_data_avaliacao.setText(Parametro.dataCorrente);
                        preencheComboBox(cb_nome_avaliacao, listAuxiliar);
                    }


                } catch (Exception e) {
                    System.out.println("Erro em Tab state.: " + e);
                }
            }
        }
    }//GEN-LAST:event_painelAlunoStateChanged

    private void cb_nome_MensalidadeItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_cb_nome_MensalidadeItemStateChanged

        if (!estado) {

            String nome = evt.getItem().toString();
            Aluno aluno = procuraNaLista(listAuxiliar, nome);
            refreshListMensalidades(aluno, "");
            estado = true;
        } else {
            estado = false;
        }
    }//GEN-LAST:event_cb_nome_MensalidadeItemStateChanged

    private void actionMensalidade(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_actionMensalidade

        boolean resposta;
        try {

            if (evt.getActionCommand().equals("Add")) {
                String nome = cb_nome_Mensalidade.getSelectedItem().toString();
                final Aluno aluno = procuraNaLista(listAuxiliar, nome);

                winJanelaMensalidade = new WinJanelaMensalidade(aluno, evt.getActionCommand());
                winJanelaMensalidade.setVisible(true);
                winJanelaMensalidade.addWindowListener(new WindowAdapter() {

                    @Override
                    public void windowClosed(WindowEvent e) {

                        refreshListMensalidades(aluno, "Add");

                    }
                });

            } else {
                int linha = tabletest.getSelectedRow();

                String nome = cb_nome_Mensalidade.getSelectedItem().toString();
                Object data = tabletest.getValueAt(linha, 0);

                final Aluno aluno = procuraNaLista(listAuxiliar, nome);
                List<Mensalidade> mensalidades = mapeamentoAluno.get(aluno);
                Integer indice = procuraNaLista(mensalidades, data.toString());

                if (evt.getActionCommand().equals("Atualizar")) {

                    /*atualiza mensalidade*/
                    Mensalidade m = mensalidades.get(indice);
                    winJanelaMensalidade = new WinJanelaMensalidade(aluno, evt.getActionCommand(), m);
                    winJanelaMensalidade.setVisible(true);

                    winJanelaMensalidade.addWindowListener(new WindowAdapter() {

                        @Override
                        public void windowClosed(WindowEvent e) {
                            refreshListMensalidades(aluno, "Atualizar");
                        }

                    });

                } else if (evt.getActionCommand().equals("OK")) {

                    /*confirma pagamento mensalidade*/

                    mensalidades.get(indice).setStatus(Status.Adimplente);
                    winJanelaMensalidade = new WinJanelaMensalidade(aluno, evt.getActionCommand(),
                            mensalidades.get(indice));
                    winJanelaMensalidade.setVisible(true);
                    winJanelaMensalidade.addWindowListener(new WindowAdapter() {

                        @Override
                        public void windowClosed(WindowEvent e) {
                            if (winJanelaMensalidade.isConfirma()) {
                                refreshListMensalidades(aluno, "OK");
                            }
                        }
                    });

                } else if (evt.getActionCommand().equals("Excluir")) {

                    /*exclui mensalidade*/
                    Mensalidade m = mensalidades.get(indice);
                    mensalidades.remove(m);
                    resposta = processamento.deletar(m);
                    showMessage(Parametro.REMOVER_MENSALIDADE, resposta);
                    refreshListMensalidades(aluno, "Excluir");
                }
            }

        } catch (Exception e) {
            JOptionPane.showMessageDialog(null, "Selecione uma linha da Tabela", "", JOptionPane.INFORMATION_MESSAGE);
        }



    }//GEN-LAST:event_actionMensalidade

    private void ActionDiaria(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ActionDiaria

        try {
            String data = Converte.dateToString(cb_diaria.getDate());
            String descricao = Parametro.DIARIA;
            Tipo tipo = Tipo.Entrada;
            float valor = new ToDecimal().strTofloat(tf_valor_diaria.getText());

            processamento.aberturaFinanceiro(data, tipo, descricao, valor);

            showMessage(descricao, true);
        } catch (Exception e) {
            System.out.println("Erro em Action Diaria.: "+e);
        }
        finally
        {
            tf_valor_diaria.setText("");
        }
       
    }//GEN-LAST:event_ActionDiaria

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton Atualizar1;
    private javax.swing.JButton bt_add_mensalidade;
    public static javax.swing.JButton bt_atualizar;
    private javax.swing.JButton bt_avaliacao_ok;
    private javax.swing.JButton bt_cadastrar;
    private javax.swing.JButton bt_consulta;
    private javax.swing.JButton bt_diaria;
    public static javax.swing.JButton bt_excluir;
    private javax.swing.JButton bt_excluir_mensalidade1;
    private javax.swing.JButton bt_mensalidade_ok1;
    private javax.swing.JButton bt_novo;
    private javax.swing.JButton bt_remove_mensalidade;
    public static javax.swing.JComboBox cb_dia_pagamento;
    public static javax.swing.JComboBox cb_modalidade;
    private javax.swing.JComboBox cb_nome_Mensalidade;
    private javax.swing.JComboBox cb_nome_avaliacao;
    private javax.swing.JButton jButton1;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel36;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel39;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel40;
    private javax.swing.JLabel jLabel41;
    private javax.swing.JLabel jLabel43;
    private javax.swing.JLabel jLabel46;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JList list_pacote_mensalidade;
    private javax.swing.JTabbedPane painelAluno;
    private javax.swing.JPanel panelAvaliacao;
    private javax.swing.JPanel panelCrud;
    private javax.swing.JPanel panelMensalidade;
    private javax.swing.JPanel panel_Command;
    private javax.swing.JTable tabletest;
    public static javax.swing.JFormattedTextField tf_celular;
    public static javax.swing.JFormattedTextField tf_cpf;
    public static javax.swing.JFormattedTextField tf_data;
    private javax.swing.JFormattedTextField tf_data_avaliacao;
    public static javax.swing.JFormattedTextField tf_data_inscricao;
    public static javax.swing.JTextField tf_email;
    public static javax.swing.JTextField tf_endereco;
    public static javax.swing.JFormattedTextField tf_fone;
    public static javax.swing.JFormattedTextField tf_fone_emergencial;
    public static javax.swing.JTextField tf_idade;
    public static javax.swing.JTextField tf_mensalidade;
    public static javax.swing.JTextField tf_nome;
    public static javax.swing.JTextField tf_nome_emergencia;
    public static javax.swing.JFormattedTextField tf_rg;
    private javax.swing.JTextField tf_valor_avaliacao;
    private javax.swing.JTextField tf_valor_diaria;
    // End of variables declaration//GEN-END:variables

    private List<Mensalidade> getPacoteMensalidade(Aluno aluno, DefaultListModel lm, Status status) {

        List<Mensalidade> mensalidades = new ArrayList<Mensalidade>();
        java.sql.Date[] dates = Converte.StringToDate(lm.toArray());
        Arrays.sort(dates);

        for (java.sql.Date date : dates) {
            Mensalidade mensalidade = new Mensalidade();
            mensalidade.setDataMensalidade(date);
            mensalidade.setStatus(status);
            mensalidade.setValor(aluno.getMensalidade());
            mensalidade.setAluno(aluno);
            mensalidades.add(mensalidade);
        }
        return mensalidades;
    }

    public void limpaComponentes(JPanel obj) {

        Acao.LimparComponentes(obj);
        cb_dia_pagamento.setSelectedIndex(0);
        cb_modalidade.setSelectedIndex(0);
        tf_data_inscricao.setText(ToDate.SqlToSttring(Calendar.getInstance().getTime()));

    }

    /**
     *
     * @param alunos
     * @param nome
     * @return Objeto aluno
     *
     */
    private Aluno procuraNaLista(List<Aluno> alunos, String nome) {
        for (Aluno aluno : alunos) {
            if (aluno.getNome().equalsIgnoreCase(nome)) {
                return aluno;
            }
        }
        return null;
    }

    /**
     *
     * @param mensalidades
     * @param text
     * @return retorna o indice de mensalidade
     */
    private Integer procuraNaLista(List<Mensalidade> mensalidades, String data) {

        int indice = 0;
        for (Mensalidade mensalidade : mensalidades) {

            String d = ToDate.SqlToSttring(mensalidade.getDataMensalidade());
            if (d.equalsIgnoreCase(data)) {

                return indice;
            }
            indice++;
        }
        return null;
    }

    /**
     * Recupera o objeto
     * @return
     * @throws Exception
     */
    private Aluno getObjeto() throws Exception {

        Aluno aluno = new Aluno();

        aluno.setNome(tf_nome.getText());
        aluno.setEndereco(tf_endereco.getText());
        aluno.setTelefone(tf_fone.getText());
        aluno.setCelular(tf_celular.getText());
        aluno.setNascimento(validate.isDateEmpty(tf_data.getText()));
        aluno.setIdade(Integer.parseInt(tf_idade.getText()));
        aluno.setRg(tf_rg.getText());
        aluno.setCpf(tf_cpf.getText());
        aluno.setContatoEmergencial(tf_fone_emergencial.getText());
        aluno.setEmail(tf_email.getText());
        aluno.setEmergenciaNome(tf_nome_emergencia.getText());
        aluno.setInscricao(validate.isDateEmpty(tf_data_inscricao.getText()));
        aluno.setPagamento(Integer.parseInt(cb_dia_pagamento.getSelectedItem().toString()));
        aluno.setModalidade(cb_modalidade.getSelectedItem().toString());
        aluno.setMensalidade(new ToDecimal().strTofloat(tf_mensalidade.getText()));

        return aluno;
    }

    /**
     *
     * @return Lista todos os alunos com suas Coleção de mensalidades usando query.
     * Sendo que nao precisa fechar sessao ao usar query
     */
    private List<Aluno> listar() {

        try {
            List<Aluno> alunos = processamento.getListWithQuery("select a from Aluno a order by a.nome");
            return alunos;

        } catch (Exception ex) {
            Mensagen.getExcption(ex, Parametro.LISTAR);
            System.out.println("erro na linha 1091");
        }
        return null;
    }

    private void preencheComboBox(JComboBox comboBox, List<Aluno> alunos) {

        comboBox.removeAllItems();
        for (Aluno aluno : alunos) {
            comboBox.addItem(aluno.getNome());
        }
    }

    private void refreshListMensalidades(Aluno aluno, String cmd) {


        try {

            if (!mapeamentoAluno.containsKey(aluno) || cmd.contains("Add")) {
                mapeamentoAluno.put(aluno,
                        processamento.getListWithQuery("select m from Mensalidade m " +
                        "where m.aluno.id = ? order by  m.dataMensalidade desc", aluno.getId()));
            }

            List<Mensalidade> mensalidades = mapeamentoAluno.get(aluno);

            DefaultTableModel modelo = (DefaultTableModel) tabletest.getModel();
            modelo.setRowCount(0);

            if (validate.isValidaLista(mensalidades)) {

                Limpar(tabletest);

                for (Mensalidade mensalidade : mensalidades) {
                    modelo.addRow(new Object[]{
                                Converte.dateToString(mensalidade.getDataMensalidade()),
                                mensalidade.getValor(),
                                Converte.dateToString(mensalidade.getDataPagamento()),
                                getStatus(mensalidade.getStatus())});
                }
            }
        } catch (Exception e) {
            System.out.println("erro na Linha 1824(refresListMensal).:" + e);
        } finally {
        }

    }

    private ImageIcon getStatus(Status status) {
        if (status.equals(Status.Inadimplente)) {
            return new javax.swing.ImageIcon(getClass().getResource("/Imagens/Status_negativo.gif"));
        }
        return new javax.swing.ImageIcon(getClass().getResource("/Imagens/Status_positivo.gif"));
    }

    private void Limpar(JTable tabela) {

        DefaultTableModel tableModel = (DefaultTableModel) tabela.getModel();
        /*Esvazia Campo*/
        while (tableModel.getRowCount() > 0) {
            tableModel.removeRow(0);
        }
        /*Renderiza Campo */
        tableModel.setNumRows(tableModel.getRowCount());
    }

    private boolean isValidFormulario() {
        return (validate.isDataFieldValid(tf_data) &&
                validate.isDataFieldValid(tf_data_inscricao) &&
                validate.isMoneyFieldValid(tf_mensalidade) &&
                !lm.isEmpty());
    }

    public static void ExibeAluno(Aluno aluno, boolean resposta) {

        if (resposta) {
            Acao.habilitaBotao(bt_atualizar);
            Acao.habilitaBotao(bt_excluir);
        }
        index = aluno.getId();
        tf_nome.setText(aluno.getNome());
        tf_endereco.setText(aluno.getEndereco());
        tf_fone.setText(aluno.getTelefone());
        tf_celular.setText(aluno.getCelular());
        tf_rg.setText(aluno.getRg());
        tf_cpf.setText(aluno.getCpf());
        tf_data.setText(ToDate.SqlToSttring(aluno.getNascimento()));
        tf_data_inscricao.setText(ToDate.SqlToSttring(aluno.getInscricao()));
        tf_email.setText(aluno.getEmail());
        tf_fone_emergencial.setText(aluno.getContatoEmergencial());
        tf_idade.setText(aluno.getIdade().toString());
        tf_mensalidade.setText(ToMoney.FloattoString(aluno.getMensalidade()));
        tf_nome_emergencia.setText(aluno.getEmergenciaNome());
        cb_dia_pagamento.setSelectedItem(String.valueOf(aluno.getPagamento()));
        cb_modalidade.setSelectedItem(aluno.getModalidade());

    }

    private void showMessage(String parametro, boolean resposta) {
        if (resposta) {
            Mensagen.getMensagem(parametro);
        }
    }
}

