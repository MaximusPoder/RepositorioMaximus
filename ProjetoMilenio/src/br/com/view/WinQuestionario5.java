/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * WinQuestionario5.java
 *
 * Created on 09/08/2010, 10:39:11
 */
package br.com.view;

import br.com.dao.DAOQuestionario5;
import br.com.pojo.EmpresaQuestionario5;
import br.com.util.Mensagens;
import br.com.util.MyUtil;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

/**
 *
 * @author Elton
 */
public class WinQuestionario5 extends javax.swing.JPanel {

    /** Creates new form WinQuestionario5 */
    private EmpresaQuestionario5 q;
 

    public WinQuestionario5() {
        initComponents();
        initAction();
        MyUtil.initiActionCmd(tabQuestionario);
        refresh();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        bgQuestao39 = new javax.swing.ButtonGroup();
        bgQuestao40 = new javax.swing.ButtonGroup();
        bgQuestao41 = new javax.swing.ButtonGroup();
        bgQuestao45 = new javax.swing.ButtonGroup();
        bgQuestao46 = new javax.swing.ButtonGroup();
        jScrollPane1 = new javax.swing.JScrollPane();
        tabQuestionario = new javax.swing.JPanel();
        panelCrudEmpresa8 = new javax.swing.JPanel();
        btCadastrar = new javax.swing.JButton();
        jLabel72 = new javax.swing.JLabel();
        jLabel75 = new javax.swing.JLabel();
        jLabel76 = new javax.swing.JLabel();
        btNovo = new javax.swing.JButton();
        jLabel13 = new javax.swing.JLabel();
        jLabel93 = new javax.swing.JLabel();
        jRadioButton25 = new javax.swing.JRadioButton();
        jRadioButton26 = new javax.swing.JRadioButton();
        jLabel94 = new javax.swing.JLabel();
        jRadioButton27 = new javax.swing.JRadioButton();
        jRadioButton28 = new javax.swing.JRadioButton();
        jLabel95 = new javax.swing.JLabel();
        jRadioButton29 = new javax.swing.JRadioButton();
        jRadioButton30 = new javax.swing.JRadioButton();
        jLabel96 = new javax.swing.JLabel();
        jScrollPane29 = new javax.swing.JScrollPane();
        tfQuestao42 = new javax.swing.JTextArea();
        jLabel97 = new javax.swing.JLabel();
        jScrollPane30 = new javax.swing.JScrollPane();
        tfQuestao43 = new javax.swing.JTextArea();
        jLabel98 = new javax.swing.JLabel();
        jScrollPane31 = new javax.swing.JScrollPane();
        tfQuestao44 = new javax.swing.JTextArea();
        jLabel99 = new javax.swing.JLabel();
        jScrollPane32 = new javax.swing.JScrollPane();
        tfQuestao46 = new javax.swing.JTextArea();
        jRadioButton31 = new javax.swing.JRadioButton();
        jRadioButton32 = new javax.swing.JRadioButton();
        jLabel100 = new javax.swing.JLabel();
        jRadioButton33 = new javax.swing.JRadioButton();
        jRadioButton34 = new javax.swing.JRadioButton();
        jRadioButton35 = new javax.swing.JRadioButton();
        jRadioButton36 = new javax.swing.JRadioButton();

        setPreferredSize(new java.awt.Dimension(900, 1700));

        panelCrudEmpresa8.setBackground(new java.awt.Color(255, 255, 255));
        panelCrudEmpresa8.setPreferredSize(new java.awt.Dimension(900, 51));

        btCadastrar.setText("Salvar");
        btCadastrar.setToolTipText("Realiza a Confirmação do Pagamento definindo exatamente o dia de pagamento."); // NOI18N
        btCadastrar.setFocusable(false);
        btCadastrar.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        btCadastrar.setVerticalTextPosition(javax.swing.SwingConstants.BOTTOM);

        btNovo.setText("Novo");

        jLabel13.setFont(new java.awt.Font("Verdana", 1, 11));
        jLabel13.setText("Financiamento e Abundancia de recurso pesqueiro");

        javax.swing.GroupLayout panelCrudEmpresa8Layout = new javax.swing.GroupLayout(panelCrudEmpresa8);
        panelCrudEmpresa8.setLayout(panelCrudEmpresa8Layout);
        panelCrudEmpresa8Layout.setHorizontalGroup(
            panelCrudEmpresa8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCrudEmpresa8Layout.createSequentialGroup()
                .addGroup(panelCrudEmpresa8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panelCrudEmpresa8Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(panelCrudEmpresa8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panelCrudEmpresa8Layout.createSequentialGroup()
                                .addGap(83, 83, 83)
                                .addComponent(jLabel72)
                                .addGap(45, 45, 45)
                                .addComponent(jLabel76))
                            .addGroup(panelCrudEmpresa8Layout.createSequentialGroup()
                                .addGap(16, 16, 16)
                                .addComponent(jLabel75))
                            .addGroup(panelCrudEmpresa8Layout.createSequentialGroup()
                                .addComponent(btNovo)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(btCadastrar))))
                    .addGroup(panelCrudEmpresa8Layout.createSequentialGroup()
                        .addGap(257, 257, 257)
                        .addComponent(jLabel13)))
                .addContainerGap(312, Short.MAX_VALUE))
        );
        panelCrudEmpresa8Layout.setVerticalGroup(
            panelCrudEmpresa8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelCrudEmpresa8Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelCrudEmpresa8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel72)
                    .addGroup(panelCrudEmpresa8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                        .addComponent(jLabel75)
                        .addComponent(jLabel76))
                    .addComponent(jLabel13))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 7, Short.MAX_VALUE)
                .addGroup(panelCrudEmpresa8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btCadastrar)
                    .addComponent(btNovo))
                .addContainerGap())
        );

        jLabel93.setText("39 - A empresa financia frota e pescador");

        bgQuestao39.add(jRadioButton25);
        jRadioButton25.setText("Sim");

        bgQuestao39.add(jRadioButton26);
        jRadioButton26.setText("Não");

        jLabel94.setText("40 - De que forma?");

        bgQuestao40.add(jRadioButton27);
        jRadioButton27.setText("Sim");

        bgQuestao40.add(jRadioButton28);
        jRadioButton28.setText("Não");

        jLabel95.setText("41 - E no passado?");

        bgQuestao41.add(jRadioButton29);
        jRadioButton29.setText("Sim");

        bgQuestao41.add(jRadioButton30);
        jRadioButton30.setText("Não");

        jLabel96.setText("42 - O que recebia ou recebe em troca?");

        tfQuestao42.setColumns(20);
        tfQuestao42.setRows(5);
        jScrollPane29.setViewportView(tfQuestao42);

        jLabel97.setText("43 - A empresa comprar pescado de caminhões ou outro intermediário? Possui Caminhoes próprios para a compra de pescado em outros municpios? Quais? ");

        tfQuestao43.setColumns(20);
        tfQuestao43.setRows(5);
        jScrollPane30.setViewportView(tfQuestao43);

        jLabel98.setText("44 - Quando compra de caminhões, qual a origem do pescado?");

        tfQuestao44.setColumns(20);
        tfQuestao44.setRows(5);
        jScrollPane31.setViewportView(tfQuestao44);

        jLabel99.setText("45 - Há problema de abastecimento do pescado ?");

        tfQuestao46.setColumns(20);
        tfQuestao46.setRows(5);
        jScrollPane32.setViewportView(tfQuestao46);

        bgQuestao45.add(jRadioButton31);
        jRadioButton31.setText("Sim");

        bgQuestao45.add(jRadioButton32);
        jRadioButton32.setText("Não");

        jLabel100.setText("46 - Quais os principais problemas de abastecimento? Citar espécie.");

        bgQuestao46.add(jRadioButton33);
        jRadioButton33.setText("Preço");

        bgQuestao46.add(jRadioButton34);
        jRadioButton34.setText("Outros");

        bgQuestao46.add(jRadioButton35);
        jRadioButton35.setText("Sazonalidade");

        bgQuestao46.add(jRadioButton36);
        jRadioButton36.setText("Concorrência de outros Mercados");

        javax.swing.GroupLayout tabQuestionarioLayout = new javax.swing.GroupLayout(tabQuestionario);
        tabQuestionario.setLayout(tabQuestionarioLayout);
        tabQuestionarioLayout.setHorizontalGroup(
            tabQuestionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tabQuestionarioLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(tabQuestionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(tabQuestionarioLayout.createSequentialGroup()
                        .addComponent(jLabel93)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jRadioButton25)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jRadioButton26))
                    .addGroup(tabQuestionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addGroup(tabQuestionarioLayout.createSequentialGroup()
                            .addComponent(jLabel95)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(jRadioButton29)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(jRadioButton30))
                        .addGroup(tabQuestionarioLayout.createSequentialGroup()
                            .addComponent(jLabel94)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jRadioButton27)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(jRadioButton28)))
                    .addComponent(jLabel96)
                    .addComponent(jScrollPane29, javax.swing.GroupLayout.PREFERRED_SIZE, 353, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel97)
                    .addComponent(jScrollPane30, javax.swing.GroupLayout.PREFERRED_SIZE, 353, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel98)
                    .addComponent(jScrollPane31, javax.swing.GroupLayout.PREFERRED_SIZE, 353, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(tabQuestionarioLayout.createSequentialGroup()
                        .addComponent(jLabel99)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jRadioButton31)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jRadioButton32))
                    .addComponent(jLabel100)
                    .addGroup(tabQuestionarioLayout.createSequentialGroup()
                        .addGroup(tabQuestionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jRadioButton34)
                            .addComponent(jRadioButton36)
                            .addComponent(jRadioButton33)
                            .addComponent(jRadioButton35))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jScrollPane32, javax.swing.GroupLayout.PREFERRED_SIZE, 353, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
            .addComponent(panelCrudEmpresa8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        tabQuestionarioLayout.setVerticalGroup(
            tabQuestionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(tabQuestionarioLayout.createSequentialGroup()
                .addComponent(panelCrudEmpresa8, javax.swing.GroupLayout.PREFERRED_SIZE, 67, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(tabQuestionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel93)
                    .addComponent(jRadioButton25)
                    .addComponent(jRadioButton26))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(tabQuestionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jRadioButton27)
                    .addComponent(jRadioButton28)
                    .addComponent(jLabel94))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(tabQuestionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel95)
                    .addComponent(jRadioButton29)
                    .addComponent(jRadioButton30))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel96)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane29, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel97)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane30, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel98)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane31, javax.swing.GroupLayout.PREFERRED_SIZE, 69, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(tabQuestionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel99)
                    .addComponent(jRadioButton31)
                    .addComponent(jRadioButton32))
                .addGap(22, 22, 22)
                .addComponent(jLabel100)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(tabQuestionarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(tabQuestionarioLayout.createSequentialGroup()
                        .addComponent(jRadioButton35)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jRadioButton33)
                        .addGap(3, 3, 3)
                        .addComponent(jRadioButton34)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jRadioButton36))
                    .addComponent(jScrollPane32, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(58, 58, 58))
        );

        jScrollPane1.setViewportView(tabQuestionario);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(this);
        this.setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 900, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 1689, Short.MAX_VALUE)
                .addContainerGap())
        );
    }// </editor-fold>//GEN-END:initComponents
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.ButtonGroup bgQuestao39;
    private javax.swing.ButtonGroup bgQuestao40;
    private javax.swing.ButtonGroup bgQuestao41;
    private javax.swing.ButtonGroup bgQuestao45;
    private javax.swing.ButtonGroup bgQuestao46;
    private javax.swing.JButton btCadastrar;
    private javax.swing.JButton btNovo;
    private javax.swing.JLabel jLabel100;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel72;
    private javax.swing.JLabel jLabel75;
    private javax.swing.JLabel jLabel76;
    private javax.swing.JLabel jLabel93;
    private javax.swing.JLabel jLabel94;
    private javax.swing.JLabel jLabel95;
    private javax.swing.JLabel jLabel96;
    private javax.swing.JLabel jLabel97;
    private javax.swing.JLabel jLabel98;
    private javax.swing.JLabel jLabel99;
    private javax.swing.JRadioButton jRadioButton25;
    private javax.swing.JRadioButton jRadioButton26;
    private javax.swing.JRadioButton jRadioButton27;
    private javax.swing.JRadioButton jRadioButton28;
    private javax.swing.JRadioButton jRadioButton29;
    private javax.swing.JRadioButton jRadioButton30;
    private javax.swing.JRadioButton jRadioButton31;
    private javax.swing.JRadioButton jRadioButton32;
    private javax.swing.JRadioButton jRadioButton33;
    private javax.swing.JRadioButton jRadioButton34;
    private javax.swing.JRadioButton jRadioButton35;
    private javax.swing.JRadioButton jRadioButton36;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane29;
    private javax.swing.JScrollPane jScrollPane30;
    private javax.swing.JScrollPane jScrollPane31;
    private javax.swing.JScrollPane jScrollPane32;
    private javax.swing.JPanel panelCrudEmpresa8;
    private javax.swing.JPanel tabQuestionario;
    private javax.swing.JTextArea tfQuestao42;
    private javax.swing.JTextArea tfQuestao43;
    private javax.swing.JTextArea tfQuestao44;
    private javax.swing.JTextArea tfQuestao46;
    // End of variables declaration//GEN-END:variables

    private void refresh() {
        if (WinSelecionaEmpresa.cbEmpresa.getSelectedIndex() > 0) {
            q = new DAOQuestionario5().getObjectWithQuery("select * from EmpresaQuestionario5" +
                    " where empresaId = " +
                    WinSelecionaEmpresa.empresas.get(WinSelecionaEmpresa.cbEmpresa.getSelectedIndex() - 1).getId());
            if (q != null) {
                setQuestionarioForPanel(q);
            } else {
                clearQuestionario();
            }
        } else {
            clearQuestionario();
        }
    }

    private EmpresaQuestionario5 getQuestionarioOfPanel() {



        try {
            String questao39 = bgQuestao39.getSelection().getActionCommand();
            String questao40 = bgQuestao40.getSelection().getActionCommand();
            String questao41 = bgQuestao41.getSelection().getActionCommand();
            String questao42 = tfQuestao44.getText();
            String questao43 = tfQuestao43.getText();
            String questao44 = tfQuestao44.getText();
            String questao45 = bgQuestao45.getSelection().getActionCommand();
            String questao46 = bgQuestao46.getSelection().getActionCommand() + ";" + tfQuestao46.getText();


            if (q != null) {
                q.all(questao39, questao40, questao41, questao42, questao43,
                        questao44, questao45, questao46,
                        WinSelecionaEmpresa.empresas.get(WinSelecionaEmpresa.cbEmpresa.getSelectedIndex() - 1).getId());
                return q;
            }

            EmpresaQuestionario5 eq = new EmpresaQuestionario5();
            eq.all(questao39, questao40, questao41, questao42, questao43,
                    questao44, questao45, questao46,
                    WinSelecionaEmpresa.empresas.get(WinSelecionaEmpresa.cbEmpresa.getSelectedIndex() - 1).getId());
            return eq;
        } catch (Exception e) {

            Mensagens.showMessageErroPreencherDados();
        }
        return null;
    }

    private void setQuestionarioForPanel(EmpresaQuestionario5 eq) {

        MyUtil.setSelected(eq.getQuestao39(), bgQuestao39);
        MyUtil.setSelected(eq.getQuestao40(), bgQuestao40);
        MyUtil.setSelected(eq.getQuestao41(), bgQuestao41);

        tfQuestao42.setText(eq.getQuestao42());
        tfQuestao43.setText(eq.getQuestao43());
        tfQuestao44.setText(eq.getQuestao44());
        MyUtil.setSelected(eq.getQuestao45(), bgQuestao45);
        MyUtil.setOpcaoWithResponse(bgQuestao46, eq.getQuestao46(), tfQuestao46);
    }

    private void clearQuestionario() {

        MyUtil.FieldsClear(this);
        bgQuestao39.clearSelection();
        bgQuestao40.clearSelection();
        bgQuestao41.clearSelection();
        bgQuestao45.clearSelection();
        bgQuestao46.clearSelection();

        q = null;

    }

    /*Metodos Actions do 8° Tab = Questionario 3*/
    private void action(ActionEvent e) {

        String cmd = e.getActionCommand();

        if (cmd.equalsIgnoreCase("Salvar")) {
            if (q == null) {
                q = getQuestionarioOfPanel();
                new DAOQuestionario5().cadastrar(q);
            } else {
                 q = getQuestionarioOfPanel();
            new DAOQuestionario5().atualizar(q);
                //Mensagens.showMessageNaoCadastrar();
            }
        } else if (cmd.equalsIgnoreCase("Atualizar")) {
           
        }
        //clearQuestionario();

    }

    private void initAction() {


        btNovo.addActionListener(new ActionListener() {

            public void actionPerformed(ActionEvent e) {

                action(e);
            }
        });
              btCadastrar.addActionListener(new ActionListener() {

            public void actionPerformed(ActionEvent e) {
                action(e);
            }
        });

    }
}
